openapi: 3.0.0
info:
  title: 'Autpost API'
  description: 'API documentation for the Autpost application'
  version: 1.0.0
servers:
  -
    url: 'http://localhost:9527/api'
    description: 'Local development server'
paths:
  /access-logs:
    get:
      tags:
        - 'Access Logs'
      summary: 'Get all access logs with pagination'
      operationId: c245b593096daf0380e2c933dce6b616
      parameters:
        -
          name: page
          in: query
          required: false
          schema:
            type: integer
        -
          name: per_page
          in: query
          required: false
          schema:
            type: integer
        -
          name: source
          in: query
          required: false
          schema:
            type: string
        -
          name: path
          in: query
          required: false
          schema:
            type: string
        -
          name: ip
          in: query
          required: false
          schema:
            type: string
      responses:
        200:
          description: 'List of access logs with pagination'
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
    post:
      tags:
        - 'Access Logs'
      summary: 'Create a new access log'
      operationId: 43bb8d3ba0b24cab35db2b7ba1cbb397
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - source
                - path
                - ip
                - user_agent
              properties:
                source:
                  type: string
                path:
                  type: string
                ip:
                  type: string
                user_agent:
                  type: string
              type: object
      responses:
        201:
          description: 'Access log created successfully'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
  '/access-logs/{id}':
    get:
      tags:
        - 'Access Logs'
      summary: 'Get a single access log'
      operationId: 1af8b6eaa427cdf69bd10dd5acfec4a3
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Access log details'
        401:
          description: Unauthenticated
        404:
          description: 'Access log not found'
      security:
        -
          bearerAuth: []
    put:
      tags:
        - 'Access Logs'
      summary: 'Update an access log'
      operationId: 48e7cdebd4ad20fd87d84332c067880f
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                source:
                  type: string
                path:
                  type: string
                ip:
                  type: string
                user_agent:
                  type: string
              type: object
      responses:
        200:
          description: 'Access log updated successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Access log not found'
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - 'Access Logs'
      summary: 'Delete an access log'
      operationId: 46e2c7db2b9693b64ba70100bd016437
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Access log deleted successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Access log not found'
      security:
        -
          bearerAuth: []
  /login:
    post:
      tags:
        - Auth
      summary: 'Login and create a new token'
      operationId: 67d6d0fdd54fba132e1b6f55ca254183
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
              type: object
      responses:
        200:
          description: 'Login successful'
        422:
          description: 'Validation error'
  /logout:
    post:
      tags:
        - Auth
      summary: 'Logout and revoke the current token'
      operationId: 28d48c13fca984400ac8de99f54ee13a
      responses:
        200:
          description: 'Logged out successfully'
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
  /user:
    get:
      tags:
        - Auth
      summary: 'Get the authenticated user'
      operationId: 2baab1eeb5fd49516237a38da22e7a07
      responses:
        200:
          description: 'User data'
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
  /config:
    get:
      tags:
        - Config
      summary: "Get the user's dashboard configuration"
      operationId: ae053c8a08efb0c6cf90844e7aca729d
      responses:
        200:
          description: 'User configuration'
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Config
      summary: "Update the user's dashboard configuration"
      operationId: bfa3a6e500c5023a50e8f18c3c56bb09
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - config
              properties:
                config:
                  description: 'Dashboard configuration object'
                  type: object
              type: object
      responses:
        200:
          description: 'Configuration updated successfully'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
  /notes:
    get:
      tags:
        - Notes
      summary: 'Get all notes for the authenticated user'
      operationId: 7fad703d7cfb72e806ec83757fecbf36
      parameters:
        -
          name: page
          in: query
          required: false
          schema:
            type: integer
        -
          name: per_page
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: 'List of notes with pagination'
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Notes
      summary: 'Create a new note'
      operationId: 5377750f30a4050374527c2a0e85cfb3
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - content
              properties:
                content:
                  type: string
              type: object
      responses:
        201:
          description: 'Note created successfully'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
  '/notes/{id}':
    get:
      tags:
        - Notes
      summary: 'Get a single note'
      operationId: da240d8d86e070ba8e9fd832324baf97
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Note details'
        401:
          description: Unauthenticated
        404:
          description: 'Note not found'
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Notes
      summary: 'Update a note'
      operationId: dbe5a7a3a515c0ddc641dab4a4072ed6
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - content
              properties:
                content:
                  type: string
              type: object
      responses:
        200:
          description: 'Note updated successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Note not found'
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Notes
      summary: 'Soft delete a note'
      operationId: 5c4796f6582d8b9a906f3fd9106eb0ca
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Note deleted successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Note not found'
      security:
        -
          bearerAuth: []
  '/notes/{id}/restore':
    post:
      tags:
        - Notes
      summary: 'Restore a soft-deleted note'
      operationId: 6fef179e8ec8cf9053dffcc40fc091c9
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Note restored successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Note not found'
      security:
        -
          bearerAuth: []
  '/notes/{id}/force':
    delete:
      tags:
        - Notes
      summary: 'Permanently delete a note'
      operationId: 89f35a93916991ee2c2a5f20dccf5af4
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Note permanently deleted'
        401:
          description: Unauthenticated
        404:
          description: 'Note not found'
      security:
        -
          bearerAuth: []
  /recurring-todos:
    get:
      tags:
        - RecurringTodos
      summary: 'Get all recurring todos for the authenticated user'
      operationId: abf7b35772940fdce25fdb3c4fd664e2
      parameters:
        -
          name: state
          in: query
          required: false
          schema:
            type: string
            enum:
              - active
              - paused
        -
          name: include_deleted
          in: query
          required: false
          schema:
            type: boolean
        -
          name: page
          in: query
          required: false
          schema:
            type: integer
        -
          name: per_page
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: 'List of recurring todos with pagination'
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
    post:
      tags:
        - RecurringTodos
      summary: 'Create a new recurring todo'
      operationId: e943f2135019d4ca70a3cb325b4319be
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - title
                - interval
                - interval_unit
                - start_time
              properties:
                title:
                  type: string
                  maxLength: 255
                note:
                  type: string
                  nullable: true
                interval:
                  type: integer
                  minimum: 1
                interval_unit:
                  type: string
                  enum:
                    - day
                    - week
                    - month
                    - year
                start_time:
                  type: string
                  format: date-time
                end_time:
                  type: string
                  format: date-time
                  nullable: true
                state:
                  type: string
                  enum:
                    - active
                    - paused
                  nullable: true
              type: object
      responses:
        201:
          description: 'Recurring todo created successfully'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
  '/recurring-todos/{id}':
    get:
      tags:
        - RecurringTodos
      summary: 'Get a single recurring todo'
      operationId: 6042d2e4c12abc01762460ba8ebfe13c
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Recurring todo details'
        401:
          description: Unauthenticated
        404:
          description: 'Recurring todo not found'
      security:
        -
          bearerAuth: []
    put:
      tags:
        - RecurringTodos
      summary: 'Update a recurring todo'
      operationId: 27c0063e8191f3b8388e262f4c30f3b0
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                title:
                  type: string
                  maxLength: 255
                note:
                  type: string
                  nullable: true
                interval:
                  type: integer
                  minimum: 1
                interval_unit:
                  type: string
                  enum:
                    - day
                    - week
                    - month
                    - year
                start_time:
                  type: string
                  format: date-time
                end_time:
                  type: string
                  format: date-time
                  nullable: true
                state:
                  type: string
                  enum:
                    - active
                    - paused
                  nullable: true
              type: object
      responses:
        200:
          description: 'Recurring todo updated successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Recurring todo not found'
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - RecurringTodos
      summary: 'Soft delete a recurring todo'
      operationId: bcfce21aae1e9ffb971e8fc222b3a0c2
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Recurring todo deleted successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Recurring todo not found'
      security:
        -
          bearerAuth: []
  '/recurring-todos/{id}/restore':
    post:
      tags:
        - RecurringTodos
      summary: 'Restore a soft-deleted recurring todo'
      operationId: 716f8ceff48bc100e7fd50ec7e17fa94
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Recurring todo restored successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Recurring todo not found'
      security:
        -
          bearerAuth: []
  '/recurring-todos/{id}/force':
    delete:
      tags:
        - RecurringTodos
      summary: 'Permanently delete a recurring todo'
      operationId: 1ef010273412bef9ab3b5a6c52f4318e
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Recurring todo permanently deleted'
        401:
          description: Unauthenticated
        404:
          description: 'Recurring todo not found'
      security:
        -
          bearerAuth: []
  '/recurring-todos/{id}/pause':
    post:
      tags:
        - RecurringTodos
      summary: 'Pause a recurring todo'
      operationId: a7f2399ced54734b3ff51483fd8f774f
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Recurring todo paused'
        401:
          description: Unauthenticated
        404:
          description: 'Recurring todo not found'
      security:
        -
          bearerAuth: []
  '/recurring-todos/{id}/resume':
    post:
      tags:
        - RecurringTodos
      summary: 'Resume a recurring todo'
      operationId: ec7765eea74812680b5144cf80c61070
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Recurring todo resumed'
        401:
          description: Unauthenticated
        404:
          description: 'Recurring todo not found'
      security:
        -
          bearerAuth: []
  /todos:
    get:
      tags:
        - Todos
      summary: 'Get all todos for the authenticated user'
      operationId: 18e676fc7a1838c48c63274e52066ac8
      parameters:
        -
          name: states
          in: query
          required: false
          schema:
            description: 'Comma-separated states to filter by (e.g., pending,in_progress)'
            type: string
        -
          name: page
          in: query
          required: false
          schema:
            type: integer
        -
          name: per_page
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: 'List of todos with pagination'
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Todos
      summary: 'Create a new todo'
      operationId: ae1281faa0d4aef5c4f3e277c6a57e7c
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - title
              properties:
                recurring_todo_id:
                  type: integer
                  nullable: true
                title:
                  type: string
                  maxLength: 25
                note:
                  type: string
                  maxLength: 25
                  nullable: true
                due_time:
                  type: string
                  format: date-time
                  nullable: true
                is_whole_day:
                  type: boolean
                  nullable: true
                state:
                  type: string
                  enum:
                    - pending
                    - in_progress
                    - completed
                    - cancelled
                  nullable: true
              type: object
      responses:
        201:
          description: 'Todo created successfully'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
  '/todos/{id}':
    get:
      tags:
        - Todos
      summary: 'Get a single todo'
      operationId: 1b99eaebc4bafa42301fbf780b77da93
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Todo details'
        404:
          description: 'Todo not found'
      security:
        -
          bearerAuth: []
    put:
      tags:
        - Todos
      summary: 'Update a todo'
      operationId: c10cfb143d3c35afe02449b07608baba
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                title:
                  type: string
                  maxLength: 255
                note:
                  type: string
                  nullable: true
                due_time:
                  type: string
                  format: date-time
                  nullable: true
                is_whole_day:
                  type: boolean
                  nullable: true
                state:
                  type: string
                  enum:
                    - pending
                    - in_progress
                    - completed
                    - cancelled
                  nullable: true
              type: object
      responses:
        200:
          description: 'Todo updated successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Todo not found'
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Todos
      summary: 'Soft delete a todo'
      operationId: e6e24dd784980cf6f9fe389df03fdd14
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Todo deleted successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Todo not found'
      security:
        -
          bearerAuth: []
  '/todos/{id}/restore':
    post:
      tags:
        - Todos
      summary: 'Restore a soft-deleted todo'
      operationId: fee52d138ce5c001ce166e42d3941ff3
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Todo restored successfully'
        401:
          description: Unauthenticated
        404:
          description: 'Todo not found'
      security:
        -
          bearerAuth: []
  '/todos/{id}/force':
    delete:
      tags:
        - Todos
      summary: 'Permanently delete a todo'
      operationId: b0f84fca5128e2aee82ad6d768ac2233
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Todo permanently deleted'
        401:
          description: Unauthenticated
        404:
          description: 'Todo not found'
      security:
        -
          bearerAuth: []
  /user/avatar:
    post:
      tags:
        - User
      summary: 'Upload user avatar'
      operationId: 93c05b6d6ba56d027806ca7563e9014b
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              required:
                - avatar
              properties:
                avatar:
                  type: string
                  format: binary
              type: object
      responses:
        200:
          description: 'Avatar uploaded successfully'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - User
      summary: 'Delete user avatar'
      operationId: c0cce51e99fca4cf8d48edf2bcbc9a48
      responses:
        200:
          description: 'Avatar deleted successfully'
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
  /user/profile:
    patch:
      tags:
        - User
      summary: 'Update user profile'
      operationId: b6f4aedd5f5cc1f82d0a13f2395a12b5
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                name:
                  type: string
                  maxLength: 255
              type: object
      responses:
        200:
          description: 'Profile updated successfully'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
  /user/email/request:
    post:
      tags:
        - User
      summary: 'Request email change - sends verification code to new email'
      operationId: e1c63330246b0305d530f459fb99b5d5
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
              type: object
      responses:
        200:
          description: 'Verification code sent'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
  /user/email/verify:
    post:
      tags:
        - User
      summary: 'Verify email change code and update email'
      operationId: 9a0aa42cd01ab76af20d6a6f1f0701b8
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - email
                - code
              properties:
                email:
                  type: string
                  format: email
                code:
                  type: string
                  maxLength: 6
                  minLength: 6
              type: object
      responses:
        200:
          description: 'Email updated successfully'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
  /user/password:
    post:
      tags:
        - User
      summary: 'Change user password'
      operationId: 2219563b052b225b4f25b74e12552cac
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - current_password
                - password
                - password_confirmation
              properties:
                current_password:
                  type: string
                password:
                  type: string
                  minLength: 8
                password_confirmation:
                  type: string
              type: object
      responses:
        200:
          description: 'Password changed successfully'
        401:
          description: Unauthenticated
        422:
          description: 'Validation error'
      security:
        -
          bearerAuth: []
components:
  securitySchemes:
    bearerAuth:
      type: http
      description: 'Enter your Sanctum token'
      bearerFormat: token
      scheme: bearer
tags:
  -
    name: 'Access Logs'
    description: 'Access log management endpoints'
  -
    name: Auth
    description: 'Authentication endpoints'
  -
    name: Config
    description: 'User configuration endpoints'
  -
    name: Notes
    description: 'Note management endpoints'
  -
    name: RecurringTodos
    description: 'Recurring todo management endpoints'
  -
    name: Todos
    description: 'Todo management endpoints'
  -
    name: User
    description: 'User profile management endpoints'
